# 🔐 Secure NixOS Configuration

Complete automated NixOS configuration with maximum security through SOPS encryption.

## 🎯 Security Features

✅ **Zero sensitive data exposure** - All infrastructure details encrypted  
✅ **SOPS encryption** with age keys for all secrets  
✅ **Safe for public repositories** - No reconnaissance possible  
✅ **Enterprise-grade security** - Follows best practices  

## 🔐 What's Encrypted

- Server IP addresses and network topology
- SSH ports and authentication keys  
- Firewall rules and allowed ports
- SMB credentials and mount configurations
- User accounts and permission groups
- Service ports and configurations

## 🚀 Deployment

```bash
sudo ./setup-nixos-secure.sh
```

## 📋 Features

- **Complete NixOS configuration** with GNOME desktop
- **Secure SMB mount** with encrypted credentials
- **SSH service** on custom encrypted port
- **Docker support** with rootless configuration
- **RDP and VNC** remote access
- **Automated setup** and diagnostic scripts

## 🛡️ Security Approach

Even if this repository is compromised, attackers cannot determine:
- Your actual server IP addresses
- SSH ports or authentication methods
- Firewall configurations or security rules
- SMB server locations or credentials
- Internal service ports or configurations
- File paths or system topology

All sensitive data is encrypted with SOPS and only decrypted at deployment time.

## 📁 Repository Structure

- `configuration.nix` - Generic NixOS configuration template
- `secrets.yaml` - SOPS-encrypted sensitive data
- `setup-nixos-secure.sh` - Automated deployment script
- `.sops.yaml` - SOPS configuration
- `.gitignore` - Protects sensitive files

## 🔑 Setup Requirements

1. Age encryption key (generated by setup script)
2. SOPS installation (handled automatically)
3. Root access for NixOS rebuild

---

**Maximum Security NixOS Configuration** - Safe for public deployment! 🔐
